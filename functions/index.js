const { setGlobalOptions } = require("firebase-functions/v2");
const { onRequest } = require("firebase-functions/v2/https");

setGlobalOptions({
    region: "asia-northeast1",
    memory: "1GB",
    concurrency: 40,
})

const line = require('./util/line.util');
const dialogflow = require('./util/dialogflow.util');
const firebase = require('./util/firebase.util');
const flex = require('./message/flex');
const googlesheets = require('./util/sheets_api');
const googlesheets_addleave = require('./util/sheet_api_addLeave');
const gemini = require('./util/geminiAPI');


exports.helloWorld = onRequest((request, response) => {
    response.send(`Method : ${request, method} `);
});

function validateWebhook(request, response) {
    if (request.method !== "POST") {
        return response.status(200).send("Method Not Allowed");
    }
    if (!line.verifySignature(request.headers["x-line-signature"], request.body)) {
        return response.status(401).send("Unauthorized");
    }
}

exports.webhook = onRequest(async (request, response) => {
    validateWebhook(request, response)

    const events = request.body.events
    for (const event of events) {
        let profile = {}

        console.log("event", JSON.stringify(event));
        if (event.source.userId === "Udeadbeefdeadbeefdeadbeefdeadbeef") {
            return response.status(200).end();
        }
        switch (event.type) {

            case "follow":
                /*
                    Greeting Message for new friend
                */
                profile = await line.getProfile(event.source.userId)

                console.log(":------");
                console.log(JSON.stringify(profile));
                console.log(":------");


                let text = `‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì ${profile.displayName} ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏π‡∏î‡∏Ñ‡∏∏‡∏¢ ‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡∏Å‡∏±‡∏ö admin ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢`
                if (event.follow.isUnblocked) {
                    /*
                        Greeting Message for Old Friend
                        https://developers.line.biz/en/reference/messaging-api/#follow-event
                        https://linedevth.line.me/th/knowledge-api/follow-event
                    */
                    text = `‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤ ${profile.displayName} ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏∞‡πÑ‡∏£‡∏°‡∏±‡πâ‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö`
                }
                await line.replyWithLongLived(event.replyToken, [{
                    "type": "text",
                    "text": text,
                }])
                break;
            case "unfollow":
                /*
                    Unsend event
                    https://developers.line.biz/en/reference/messaging-api/#unsend-event
                */
                console.log(JSON.stringify(event));
                break;
            case "message":
                /*
                    Message
                    https://developers.line.biz/en/reference/messaging-api/#message-event
                */
                if (event.message.type === "text") {

                    if (event.source.type !== "group") {
                        // Display a loading animation in one-on-one chats between users and LINE Official Accounts.
                        await line.isAnimationLoading(event.source.userId)
                    }

                    let textMessage = event.message.text
                    profile = await line.getProfile(event.source.userId)

                    console.log(":------");
                    console.log(JSON.stringify(profile));
                    console.log(":------");


                    const sayhiKeywords = ["‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ", "‡∏î‡∏µ", "hi", "‡∏´‡∏ß‡∏±‡∏î‡∏î‡∏µ‡∏à‡πâ‡∏≤", "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏à‡πâ‡∏≤", "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö", "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡πà‡∏∞", "Hi",];
                    const timetoworkKeywords = ["‡πÄ‡∏Ç‡πâ‡∏≤‡∏á‡∏≤‡∏ô", "‡πÄ‡∏Ç‡πâ‡∏≤‡∏á‡∏≤‡∏ô‡∏Å‡∏µ‡πà‡πÇ‡∏°‡∏á", "‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô", "‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏á‡∏≤‡∏ô‡∏Å‡∏µ‡πà‡πÇ‡∏°‡∏á", "‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô"]
                    const DressingKeywords = ["‡πÅ‡∏ï‡πà‡∏á‡∏ï‡∏±‡∏ß", "‡πÅ‡∏ï‡πà‡∏á‡∏ï‡∏±‡∏ß‡∏Å‡∏µ‡πà‡∏Ñ‡∏£‡∏±‡πâ‡∏á", "‡πÅ‡∏ï‡πà‡∏á‡∏ï‡∏±‡∏ß‡∏¢‡∏±‡∏á‡πÑ‡∏á", "‡∏Å‡∏≤‡∏£‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏¢", "‡∏ä‡∏∏‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô"]
                    const SalaryperiodKeywords = ["‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô", "‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏Å‡∏µ‡πà‡πÄ‡∏î‡∏∑‡∏≠‡∏ô", "‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏≠‡∏≠‡∏Å‡∏ï‡∏≠‡∏ô‡πÑ‡∏´‡∏ô", "‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà", "‡πÑ‡∏î‡πâ‡πÄ‡∏á‡∏¥‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á", "‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏≠‡∏Å‡∏ï‡∏≠‡∏ô‡πÑ‡∏´‡∏ô"]
                    const benefitKeywords = ["‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û", "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Å‡∏µ‡πà‡πÄ‡∏á‡∏¥‡∏ô", "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á", "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£"]
                    const contactHrKeywords = ["‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠hr", "‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠hr‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô", "‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠hr‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏á", "‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠hr‡πÑ‡∏î‡πâ‡∏Å‡∏µ‡πà‡πÇ‡∏°‡∏á", "‡∏Ç‡∏≠‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏öhr", "HR", "‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠HR"]
                    const hollydayKeywords = ["‡∏´‡∏¢‡∏∏‡∏î‡∏ß‡∏±‡∏ô‡πÑ‡∏´‡∏ô", "‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î", "‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô", "‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏î‡πÄ‡∏ä‡∏¢"]
                    const latetoworkKeywords = ["‡πÑ‡∏õ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏™‡∏≤‡∏¢","‡πÑ‡∏õ‡∏™‡∏≤‡∏¢","‡πÄ‡∏Ç‡πâ‡∏≤‡∏á‡∏≤‡∏ô‡∏ä‡πâ‡∏≤","‡πÄ‡∏Ç‡πâ‡∏≤‡∏á‡∏≤‡∏ô‡∏™‡∏≤‡∏¢"]
                    const recordtoworkKeywords =["‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ß‡∏•‡∏≤","‡∏Å‡∏≤‡∏£‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô","‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏á‡∏≤‡∏ô"]
                    const testworkKeywords = ["‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏á‡∏≤‡∏ô","‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏á‡∏≤‡∏ô","‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏á‡∏≤‡∏ô","‡∏ù‡∏∂‡∏Å‡∏á‡∏≤‡∏ô","‡∏á‡∏≤‡∏ô‡∏ù‡∏∂‡∏Å"]
                    const bonustoworkKeywords = ["‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ ","‡πÄ‡∏á‡∏¥‡∏ô‡πÇ‡∏ö‡∏ô‡∏±‡∏™","‡∏´‡∏±‡∏Å‡πÇ‡∏ö‡∏ô‡∏±‡∏™","‡∏´‡∏±‡∏Å‡πÄ‡πÄ‡∏á‡∏¥‡∏ô"]

                    if (sayhiKeywords.some(keyword => textMessage.includes(keyword))) {
                      // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡∏Å‡∏ó‡∏≤‡∏¢
                     await line.replyWithStateless(event.replyToken, [{ type: 'text', text: '‡∏ô‡πâ‡∏≠‡∏á MERGE ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö' }]);  

                    } else if (benefitKeywords.some(keyword => textMessage.includes(keyword))) {
                         // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏î‡πâ‡∏ß‡∏¢ Flex Message ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£
                                await line.replyWithStateless(event.replyToken, [flex.exampleFlex()]);

                    } else if (textMessage === "‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÅ‡∏•‡∏∞‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°") {
                        await line.replyWithStateless(event.replyToken, [{
                            "type": "flex",
                            "altText": "‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÅ‡∏•‡∏∞‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°",
                            "contents": {
                              "type": "carousel",
                              "contents": [
                                {
                                  "type": "bubble",
                                  "body": {
                                    "type": "box",
                                    "layout": "vertical",
                                    "contents": [
                                      {
                                        "type": "image",
                                        "url": "https://bucket.ex10.tech/images/047835f8-8225-11ef-ab4d-0242ac12000e/originalContentUrl.png",
                                        "size": "full",
                                        "aspectMode": "cover",
                                        "aspectRatio": "2:3",
                                        "gravity": "top"
                                      },
                                      {
                                        "type": "box",
                                        "layout": "baseline",
                                        "contents": [
                                          {
                                            "type": "text",
                                            "text": "‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô",
                                            "color": "#ffffff",
                                            "align": "center",
                                            "size": "lg",
                                            "offsetTop": "lg"
                                          }
                                        ],
                                        "cornerRadius": "xxl",
                                        "offsetTop": "xxl",
                                        "backgroundColor": "#ff66c4",
                                        "offsetStart": "50px",
                                        "height": "50px",
                                        "width": "200px",
                                        "position": "absolute",
                                        "alignItems": "center",
                                        "justifyContent": "center"
                                      }
                                    ],
                                    "paddingAll": "0px",
                                    "action": {
                                      "type": "uri",
                                      "uri": "https://drive.google.com/file/d/17eQBqRF6QyXFwqwsw4sGS2QGAJ38GMZz/view?usp=sharing",
                                      "label": "‡πÄ‡∏õ‡∏¥‡∏î"
                                    },
                                    "background": {
                                      "type": "linearGradient",
                                      "angle": "0deg",
                                      "startColor": "#000000",
                                      "endColor": "#ffffff"
                                    }
                                  }
                                },
                                {
                                  "type": "bubble",
                                  "body": {
                                    "type": "box",
                                    "layout": "vertical",
                                    "contents": [
                                      {
                                        "type": "image",
                                        "url": "https://bucket.ex10.tech/images/047835f8-8225-11ef-ab4d-0242ac12000e/originalContentUrl.png",
                                        "size": "full",
                                        "aspectMode": "cover",
                                        "aspectRatio": "2:3",
                                        "gravity": "top"
                                      },
                                      {
                                        "type": "box",
                                        "layout": "vertical",
                                        "contents": [
                                          {
                                            "type": "text",
                                            "text": "‡∏ß‡∏¥‡∏ô‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡πÇ‡∏ó‡∏©‡∏ó‡∏≤‡∏á‡∏ß‡∏¥‡∏ô‡∏±‡∏¢",
                                            "color": "#ffffff",
                                            "align": "center",
                                            "size": "lg",
                                            "offsetTop": "xs",
                                            "offsetStart": "lg"
                                          }
                                        ],
                                        "position": "absolute",
                                        "cornerRadius": "xxl",
                                        "offsetTop": "xxl",
                                        "backgroundColor": "#ff66c4",
                                        "offsetStart": "50px",
                                        "height": "50px",
                                        "width": "200px",
                                        "justifyContent": "center"
                                      }
                                    ],
                                    "paddingAll": "0px",
                                    "action": {
                                      "type": "uri",
                                      "uri": "https://drive.google.com/file/d/1gslugsIFyrF_ujEguGU5jkBIzm2wK1pf/view?usp=sharing",
                                      "label": "‡πÄ‡∏õ‡∏¥‡∏î"
                                    }
                                  }
                                }
                              ]
                            }
                          }])
                    } else if (textMessage === "‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå") {

                        await line.replyWithStateless(event.replyToken, [{
                            "type": "imagemap",
                            "baseUrl": "https://ex10.tech/store/v1/public/content/upload/imagemap/f85b9d67-905c-48c5-ad6c-c32f12f18f9e",
                            "altText": "‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå",
                            "baseSize": {
                                "width": 1040,
                                "height": "585"
                            },
                            "actions": [
                                {
                                    "type": "uri",
                                    "area": {
                                        "x": 0,
                                        "y": 9,
                                        "width": 1036,
                                        "height": 574
                                    },
                                    "linkUri": "https://drive.google.com/file/d/12ZUXBtpCREyxzzWBfj9-i3P3mADy_JAU/view?usp=sharing?openExternalBrowser=1"
                                }
                            ]
                        }])

                    } else if (textMessage === "‡∏û‡∏π‡∏î‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏ô‡πâ‡∏≠‡∏á MERGE") {

                        await line.replyWithStateless(event.replyToken, [{
                            "type": "text",
                            "text": "‚Äú‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏û‡∏ö‡∏Å‡∏±‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö ‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ú‡∏°‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏±‡∏ö!‚Äù$",
                            "emojis": [
                                {
                                    "index": 123,
                                    "productId": "5ac1bfd5040ab15980c9b435",
                                    "emojiId": "011"
                                }
                            ],
                            "quickReply": {
                                "items": [{
                                    "type": "action",

                                    "action": {
                                        "type": "message",
                                        "label": "‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤",
                                        "text": "‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤"
                                    }
                                }, {
                                    "type": "action",

                                    "action": {
                                        "type": "message",
                                        "label": "‡∏à‡∏ö‡∏ö‡∏ó‡∏™‡∏ô‡∏ó‡∏ô‡∏≤",
                                        "text": "‡∏à‡∏ö‡∏ö‡∏ó‡∏™‡∏ô‡∏ó‡∏ô‡∏≤"
                                    }
                                },
                                {
                                    "type": "action",
                                    "imageUrl": "",
                                    "action": {
                                        "type": "message",
                                        "label": "‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠HR",
                                        "text": "‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠HR"
                                    }
                                },]
                            }
                        }])

                    } else if (textMessage === "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å") {

                        await line.replyWithStateless(event.replyToken, [{
                            "type": "imagemap",
                            "baseUrl": "https://ex10.tech/store/v1/public/content/upload/imagemap/a4090660-aec2-4b59-8ac5-744d8d378d7a",
                            "altText": "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å",   
                            "baseSize": {
                                "width": 1040,
                                "height": "701"
                            },
                            "actions": [
                                {
                                    "type": "message",
                                    "area": {
                                        "x": 44,
                                        "y": 49,
                                        "width": 308,
                                        "height": 287
                                    },
                                    "text": "‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÅ‡∏•‡∏∞‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°"
                                },
                                {
                                    "type": "message",
                                    "area": {
                                        "x": 372,
                                        "y": 57,
                                        "width": 297,
                                        "height": 283
                                    },
                                    "text": "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£"
                                },
                                {
                                    "type": "message",
                                    "area": {
                                        "x": 688,
                                        "y": 57,
                                        "width": 297,
                                        "height": 281
                                    },
                                    "text": "‡∏ß‡∏±‡∏ô‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏•‡∏≤"
                                },
                                {
                                    "type": "message",
                                    "area": {
                                        "x": 46,
                                        "y": 371,
                                        "width": 300,
                                        "height": 283
                                    },
                                    "text": "‡∏õ‡∏é‡∏¥‡∏ó‡∏¥‡∏ô‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î"
                                },
                                {
                                    "type": "message",
                                    "area": {
                                        "x": 380,
                                        "y": 363,
                                        "width": 285,
                                        "height": 289
                                    },
                                    "text": "\"HRMS Online\""
                                },
                                {
                                    "type": "message",
                                    "area": {
                                        "x": 699,
                                        "y": 371,
                                        "width": 291,
                                        "height": 283
                                    },
                                    "text": "‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏ô‡πâ‡∏≠‡∏á MERGE"
                                }
                            ],
                            "quickReply": {
                                "items": [{
                                    "type": "action",

                                    "action": {
                                        "type": "message",
                                        "label": "‡πÄ‡∏°‡∏ô‡∏π‡∏ö‡∏≠‡∏ó",
                                        "text": "‡πÄ‡∏°‡∏ô‡∏π‡∏ö‡∏≠‡∏ó"
                                    }
                                },
                                ]
                            }
                        }])

                    } else if (textMessage === "‡πÄ‡∏°‡∏ô‡∏π‡∏ö‡∏≠‡∏ó") {

                        await line.replyWithStateless(event.replyToken, [{
                            "type": "imagemap",
                            "baseUrl": "https://ex10.tech/store/v1/public/content/upload/imagemap/abdd4ee2-51f9-48a2-9d0c-92a1e760220a",
                            "altText": "‡πÄ‡∏°‡∏ô‡∏π‡∏ö‡∏≠‡∏ó",
                            "baseSize": {
                                "width": 1040,
                                "height": "701"
                            },
                            "actions": [
                                {
                                    "type": "message",
                                    "area": {
                                        "x": 43,
                                        "y": 57,
                                        "width": 297,
                                        "height": 281
                                    },
                                    "text": "‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô"
                                },
                                {
                                    "type": "message",
                                    "area": {
                                        "x": 374,
                                        "y": 47,
                                        "width": 289,
                                        "height": 291
                                    },
                                    "text": "‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤"
                                },
                                {
                                    "type": "message",
                                    "area": {
                                        "x": 702,
                                        "y": 61,
                                        "width": 289,
                                        "height": 277
                                    },
                                    "text": "‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß"
                                },
                                {
                                    "type": "message",
                                    "area": {
                                        "x": 39,
                                        "y": 369,
                                        "width": 308,
                                        "height": 279
                                    },
                                    "text": "‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ä‡πà‡∏ß‡∏¢‡∏™‡πà‡∏á‡∏™‡∏∏‡∏Ç"
                                },
                                {
                                    "type": "message",
                                    "area": {
                                        "x": 376,
                                        "y": 361,
                                        "width": 287,
                                        "height": 287
                                    },
                                    "text": "‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå"
                                },
                                {
                                    "type": "message",
                                    "area": {
                                        "x": 692,
                                        "y": 371,
                                        "width": 297,
                                        "height": 281
                                    },
                                    "text": "‡∏≠‡∏∑‡πà‡∏ô‡πÜ"
                                }
                            ],
                            "quickReply": {
                                "items": [{
                                    "type": "action",

                                    "action": {
                                        "type": "message",
                                        "label": "‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤",
                                        "text": "‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤"
                                    }
                                },
                                {
                                    "type": "action",
                                    "imageUrl": "",
                                    "action": {
                                        "type": "message",
                                        "label": "‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠HR",
                                        "text": "‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠HR"
                                    }
                                },]
                            }
                        }])

                    } else if (textMessage === "‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß") {

                        await line.replyWithStateless(event.replyToken, [{
                            "type": "text",
                            "text": "üìä ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ üìä\n\n‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô: ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£? üíµ\n‡∏ß‡∏±‡∏ô‡∏•‡∏≤‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ß‡∏±‡∏ô‡∏•‡∏≤‡∏≠‡∏µ‡∏Å‡∏Å‡∏µ‡πà‡∏ß‡∏±‡∏ô? üèñÔ∏è\n‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á: ‡∏Ñ‡∏∏‡∏ì‡∏î‡∏≥‡∏£‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏ô‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó? üè¢\n\nüëâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡πÄ‡∏ä‡πà‡∏ô \"111000\" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß! ‚ú®"
                        }])

                    } else if (textMessage === "\"‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î\"") {

                        await line.replyWithStateless(event.replyToken, [{
                            "type": "text",
                            "text": "üìÖ ‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå\n\n‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ üõå ‡∏´‡∏¢‡∏∏‡∏î‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏•‡∏∞ 2 ‡∏ß‡∏±‡∏ô‡πÄ‡∏ï‡πá‡∏°\n\n‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á üåê‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏î‡∏∏‡∏•‡∏¢‡∏û‡∏¥‡∏ô‡∏¥‡∏à‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤ ‡πÇ‡∏î‡∏¢‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏±‡∏î‡∏Å‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏ï‡πà‡∏≠‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå üö®\n\nüéâ ‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏û‡∏ì‡∏µ\n‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏Ø ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏û‡∏ì‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 13 ‡∏ß‡∏±‡∏ô‡∏ï‡πà‡∏≠‡∏õ‡∏µ üìÜ ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥‡∏î‡πâ‡∏ß‡∏¢ üí™"
                        , "quickReply": {
                                "items": [
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö",
                                            "text": "‡∏ß‡∏±‡∏ô‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏•‡∏≤"
                                        }
                                    }
                                ]
                            }  
                        }])

                    } else if (textMessage === "\"‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô\"") {

                        await line.replyWithStateless(event.replyToken, [{
                            "type": "text",
                            "text": "üåø ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ\n‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏£‡∏à‡∏∏‡πÉ‡∏ô‡∏õ‡∏µ‡πÅ‡∏£‡∏Å üìÖ ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏•‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô\n‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏ö 1 ‡∏õ‡∏µ‡πÄ‡∏ï‡πá‡∏° üéâ ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÑ‡∏î‡πâ 6 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô\n‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏ö 2 ‡∏õ‡∏µ‡πÄ‡∏ï‡πá‡∏° üéâ ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÑ‡∏î‡πâ 7 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô\n‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏ö 3 ‡∏õ‡∏µ‡πÄ‡∏ï‡πá‡∏° üéâ ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÑ‡∏î‡πâ 8 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô\n\nüóìÔ∏è ‡∏Å‡∏≤‡∏£‡∏™‡∏∞‡∏™‡∏°‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î\n‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏Ø ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡∏™‡∏∞‡∏™‡∏°‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 1 ‡∏õ‡∏µ ‡∏£‡∏ß‡∏°‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 15 ‡∏ß‡∏±‡∏ô ‚úÖ ‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏Å‡∏±‡∏ö‡πÅ‡∏ú‡∏ô‡∏Å‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• ‡πÅ‡∏•‡∏∞‡∏¢‡∏∑‡πà‡∏ô‡πÉ‡∏ö‡∏•‡∏≤‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤ üìÑ ‡∏´‡πâ‡∏≤‡∏°‡∏™‡πà‡∏á‡πÉ‡∏ö‡∏•‡∏≤‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î‚ùå ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏´‡∏¢‡∏∏‡∏î‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‚úîÔ∏è"
                        , "quickReply": {
                                "items": [
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö",
                                            "text": "‡∏ß‡∏±‡∏ô‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏•‡∏≤"
                                        }
                                    }
                                ]
                            }  
                        }])

                    } else if (textMessage === "\"‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏•‡∏≤\"") {

                        await line.replyWithStateless(event.replyToken, [{
                            "type": "text",
                            "text": "üë∂ ‡∏•‡∏≤‡∏Ñ‡∏•‡∏≠‡∏î\n‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏™‡∏ï‡∏£‡∏µ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏£‡∏†‡πå‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏•‡∏≤‡∏Ñ‡∏•‡∏≠‡∏î‡πÑ‡∏î‡πâ 98 ‡∏ß‡∏±‡∏ô üóìÔ∏è (‡πÑ‡∏°‡πà‡∏£‡∏ß‡∏°‡∏ß‡∏±‡∏ô‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢) ‡πÇ‡∏î‡∏¢‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏à‡πâ‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏Ø ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô 45 ‡∏ß‡∏±‡∏ô üíº ‡πÅ‡∏•‡∏∞‡∏à‡∏≤‡∏Å‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠ üè•\n\nüìã ‡∏•‡∏≤‡∏Å‡∏¥‡∏à\n‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏≤‡∏Å‡∏¥‡∏à‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 6 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô/‡∏õ‡∏µ ‚úçÔ∏è ‡∏´‡∏≤‡∏Å‡∏•‡∏≤‡∏Å‡∏¥‡∏à‡πÄ‡∏Å‡∏¥‡∏ô 6 ‡∏ß‡∏±‡∏ô ‡∏à‡∏∞‡∏´‡∏°‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÉ‡∏ô‡∏õ‡∏µ‡∏ô‡∏±‡πâ‡∏ô üìâ\n‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏Å‡∏¥‡∏à‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤ ‡πÅ‡∏•‡∏∞‡∏¢‡∏∑‡πà‡∏ô‡πÉ‡∏ö‡∏•‡∏≤‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 3 ‡∏ß‡∏±‡∏ô üìù ‡∏´‡πâ‡∏≤‡∏°‡∏•‡∏≤‡∏Å‡∏¥‡∏à‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‚ùå ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏à‡∏∞‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏Ç‡∏≤‡∏î‡∏á‡∏≤‡∏ô\n‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏Å‡∏¥‡∏à‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏Ñ‡∏ß‡∏£ ‚öñÔ∏è ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏°‡∏Ñ‡∏ß‡∏£ ‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï\n‡πÉ‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô ‡∏£‡∏µ‡∏ö‡∏î‡πà‡∏ß‡∏ô üö® ‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏ó‡∏£‡∏≤‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏°‡∏¥‡∏â‡∏∞‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏Ç‡∏≤‡∏î‡∏á‡∏≤‡∏ô ‚ö†Ô∏è\n\nü§í ‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢\n‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 30 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô/‡∏õ‡∏µ ‡πÇ‡∏î‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏à‡πâ‡∏≤‡∏á üè•\n‡∏´‡∏≤‡∏Å‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô 3 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÅ‡∏ô‡∏ö‡∏Å‡∏±‡∏ö‡πÉ‡∏ö‡∏•‡∏≤ üìÑ\n‡πÉ‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢‡∏Å‡∏£‡∏∞‡∏ó‡∏±‡∏ô‡∏´‡∏±‡∏ô ‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏ú‡∏ô‡∏Å‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡∏£‡∏≤‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô üïí\n\nüö´ ‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏î‡∏á‡∏≤‡∏ô\n‡∏Å‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏°‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÅ‡∏à‡πâ‡∏á‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏á‡∏≤‡∏ô ‡∏à‡∏∞‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏Ç‡∏≤‡∏î‡∏á‡∏≤‡∏ô ‚ùå"
                               , "quickReply": {
                                "items": [
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏±‡∏ô‡∏•‡∏≤",
                                            "text": "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏±‡∏ô‡∏•‡∏≤"
                                        }
                                    },
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö",
                                            "text": "‡∏ß‡∏±‡∏ô‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏•‡∏≤"
                                        }
                                    }, {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏≠‡∏∑‡πà‡∏ô‡πÜ",
                                            "text": "‡∏≠‡∏∑‡πà‡∏ô‡πÜ"
                                        }
                                    },
                                    
                                ]
                            }  
                        }])

                    } else if (textMessage === "‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏á‡∏≤‡∏ô"){ {

                        await line.replyWithStateless(event.replyToken, [{
                            "type": "text",
                            "text": "‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏•‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏á‡∏≤‡∏ô\n‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏•‡∏≤‡∏´‡∏¢‡∏∏‡∏î ‡πÄ‡∏ß‡πâ‡∏ô‡πÅ‡∏ï‡πà‡πÉ‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÜ üõë ‡πÅ‡∏•‡∏∞‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏Ø ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á‡πÉ‡∏´‡πâ üíº\n\nüìâ ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏à‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏á‡∏≤‡∏ô\n‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏Ø ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ üö´ ‡πÉ‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏á‡∏≤‡∏ô 119 ‡∏ß‡∏±‡∏ô ‡∏´‡∏≤‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏≠‡πÉ‡∏à\n\nüíä ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏á‡∏≤‡∏ô\n‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏á‡∏≤‡∏ô üè• ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ô‡∏≠‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô üîÑ"
                               , "quickReply": {
                                "items": [
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å",
                                            "text": "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å"
                                        }
                                    },
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß",
                                            "text": "‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß"
                                        }
                                    }, {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö",
                                            "text": "‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏≠‡∏∑‡πà‡∏ô‡πÜ"
                                        }
                                    },
                                    
                                ]
                            }  
                        }])
                    }
                    } else if (hollydayKeywords.some(keyword => textMessage.includes(keyword))) {
                        await line.replyWithStateless(event.replyToken, [
                            {
                                "type": "imagemap",
                                "baseUrl": "https://ex10.tech/store/v1/public/content/upload/imagemap/d8277a9a-eaea-4b31-b608-c09b99114277",
                                "altText": "‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î",
                                "baseSize": {
                                    "width": 1040,
                                    "height": 1040
                                },
                                "actions": [
                                    {
                                        "type": "message",
                                        "area": {
                                            "x": 906,
                                            "y": 16,
                                            "width": 1,
                                            "height": 1
                                        },
                                        "text": "."
                                    }
                                ]
                            },
                            {
                                "type": "text",
                                "text": "‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ï‡πà‡∏≠?",
                                "quickReply": {
                                    "items": [
                                        {
                                            "type": "action",
                                            "action": {
                                                "type": "message",
                                                "label": "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏±‡∏ô‡∏•‡∏≤",
                                                "text": "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏±‡∏ô‡∏•‡∏≤"
                                            }
                                        },
                                        {
                                            "type": "action",
                                            "action": {
                                                "type": "message",  // ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏õ‡πá‡∏ô message type
                                                "label": "‡∏≠‡∏∑‡πà‡∏ô‡πÜ",
                                                "text": "‡∏≠‡∏∑‡πà‡∏ô‡πÜ"
                                            }
                                        }
                                    ]
                                }
                            }
                        ]);
                    } else if (timetoworkKeywords.some(keyword => textMessage.includes(keyword))) {

                        await line.replyWithStateless(event.replyToken, [{
                            "type": "text",
                            "text": "üïí ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì üïí\n‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå - ‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå: ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏•‡∏≠‡∏î‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå!\n\n‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô: 8:00 - 17:00 ‡∏ô., 9:00 ‚Äì 18:00 ‡∏ô.    ‚è∞\n‡πÄ‡∏ß‡∏•‡∏≤‡∏û‡∏±‡∏Å: 12:00 - 13:00 ‡∏ô. ü•™ \n\n‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ï‡∏¥‡∏°‡∏û‡∏•‡∏±‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ä‡πà‡∏ß‡∏á‡∏ö‡πà‡∏≤‡∏¢!\n\n‚ú® ‡∏´‡∏ß‡∏±‡∏á‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏°‡∏µ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏î‡πÉ‡∏™‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏∞! üåü"
                        }, {
                            "type": "text",
                            "text": "‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ï‡πà‡∏≠?",
                            "quickReply": {
                                "items": [
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å",
                                            "text": "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å"
                                        }
                                    },
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß",
                                            "text": "‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß"
                                        }
                                    },
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö",
                                            "text": "‡∏≠‡∏∑‡πà‡∏ô‡πÜ"
                                        }
                                    },
                                ]
                            }
                        }
                        ]);

                    } else if (DressingKeywords.some(keyword => textMessage.includes(keyword))) {
                        await line.replyWithStateless(event.replyToken, [{
                            "type": "flex",
                            "altText": "‡∏Å‡∏≤‡∏£‡πÅ‡∏ï‡πà‡∏á‡∏ï‡∏±‡∏ß‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô",
                            "contents": {
                                "type": "carousel",
                                "contents": [
                                    {
                                        "type": "bubble",
                                        "body": {
                                            "type": "box",
                                            "layout": "vertical",
                                            "contents": [
                                                {
                                                    "type": "image",
                                                    "url": "https://bucket.ex10.tech/images/1564aaad-822d-11ef-ab4d-0242ac12000e/originalContentUrl.png",
                                                    "size": "full",
                                                    "aspectMode": "cover",
                                                    "aspectRatio": "2:3",
                                                    "gravity": "top"
                                                }
                                            ],
                                            "paddingAll": "0px"
                                        }
                                    },
                                    {
                                        "type": "bubble",
                                        "body": {
                                            "type": "box",
                                            "layout": "vertical",
                                            "contents": [
                                                {
                                                    "type": "image",
                                                    "url": "https://bucket.ex10.tech/images/fc23bd08-822c-11ef-ab4d-0242ac12000e/originalContentUrl.png",
                                                    "size": "full",
                                                    "aspectMode": "cover",
                                                    "aspectRatio": "2:3",
                                                    "gravity": "top"
                                                }
                                            ],
                                            "paddingAll": "0px"
                                        }
                                    }
                                ]
                            }
                        }, {
                            "type": "text",
                            "text": "üëî ‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô\n‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô üè¢ ‡∏à‡∏∂‡∏á‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏¢‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:\n\n‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ä‡∏≤‡∏¢ üë®‚Äçüíº ‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏Ç‡∏≤‡∏î ‚úîÔ∏è\n\n‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏´‡∏ç‡∏¥‡∏á üë©‚Äçüíº ‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏ß‡∏°‡πÉ‡∏™‡πà‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏†‡∏≤‡∏û ‡πÑ‡∏°‡πà‡∏Ç‡∏≤‡∏î ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÇ‡∏õ‡πä ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‚úîÔ∏è",
                            "quickReply": {
                                "items": [
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å",
                                            "text": "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å"
                                        }
                                    },
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß",
                                            "text": "‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß"
                                        }
                                    },
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö",
                                            "text": "‡∏≠‡∏∑‡πà‡∏ô‡πÜ"
                                        }
                                    }
                                ]
                            }
                        }]);
                    } else if (contactHrKeywords.some(keyword => textMessage.includes(keyword))) {
                        await line.replyWithStateless(event.replyToken, [{
                            "type": "text",
                            "text": "‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏π‡∏î‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤ ‡πÇ‡∏ó‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏´‡∏≤‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö ü•∞\n\n‚òéÔ∏è ‡∏ù‡πà‡∏≤‡∏¢‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•\n088-888-8888\n\n‡πÄ‡∏£‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏∏‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠"
                        }, {
                            "type": "text",
                            "text": "‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ï‡πà‡∏≠?",
                            "quickReply": {
                                "items": [
                                    {
                                        "type": "action",
                                        "action": {
                                            "type": "message",
                                            "label": "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å",
                                            "text": "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å"
                                        }
                                    },
                                    {
                                        "type": "action",
                                        "action": {
                                            "type": "message",  // ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏õ‡πá‡∏ô message type
                                            "label": "‡∏≠‡∏∑‡πà‡∏ô‡πÜ",
                                            "text": "‡∏≠‡∏∑‡πà‡∏ô‡πÜ"
                                        }
                                    }
                                ]
                            }
                        }]);
                    } else if (SalaryperiodKeywords.some(keyword => textMessage.includes(keyword))) {

                        await line.replyWithStateless(event.replyToken, [{
                            "type": "text",
                            "text": "üíº ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏Ç‡∏≠‡πÅ‡∏à‡πâ‡∏á‡πÉ‡∏´‡πâ‡∏ó‡∏£‡∏≤‡∏ö‡∏ß‡πà‡∏≤ ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô üí∞ ‡∏Ñ‡πà‡∏≤‡∏à‡πâ‡∏≤‡∏á ‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì  ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà üìÖ ... ‡∏Ç‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô\n\n‡πÇ‡∏î‡∏¢‡∏ú‡πà‡∏≤‡∏ô‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡∏ù‡∏≤‡∏Å‡∏≠‡∏≠‡∏°‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì üè¶ ‡∏ó‡∏±‡πâ‡∏á‡∏ô‡∏µ‡πâ\n‡∏´‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î üõë\n‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏à‡πà‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô‡∏ï‡∏≤‡∏°‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏°‡πà‡∏Ç‡∏≤‡∏î‡∏ï‡∏Å‡∏ö‡∏Å‡∏û‡∏£‡πà‡∏≠‡∏á üí∏"
                        }, {
                            "type": "text",
                            "text": "‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ï‡πà‡∏≠?",
                            "quickReply": {
                                "items": [
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å",
                                            "text": "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å"
                                        }
                                    },
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß",
                                            "text": "‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß"
                                        }
                                    },
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö",
                                            "text": "‡∏≠‡∏∑‡πà‡∏ô‡πÜ"
                                        }
                                    },
                                ]
                            }
                        }
                        ]);
                    } else if (latetoworkKeywords.some(keyword => textMessage.includes(keyword))) {

                        await line.replyWithStateless(event.replyToken, [{
                            "type": "text",
                            "text": "‚è∞ ‡∏´‡∏≤‡∏Å‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏°‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏™‡∏≤‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡∏Å‡∏ß‡πà‡∏≤ 3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÉ‡∏ô 1 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô\nüíº ‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏Å‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô\nüö® ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ß‡∏¥‡∏ô‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô ‚ú®"
                          }, {
                            "type": "text",
                            "text": "‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ï‡πà‡∏≠?",
                            "quickReply": {
                                "items": [
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å",
                                            "text": "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å"
                                        }
                                    },
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß",
                                            "text": "‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß"
                                        }
                                    },
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö",
                                            "text": "‡∏≠‡∏∑‡πà‡∏ô‡πÜ"
                                        }
                                    },
                                ]
                            }
                        }
                        ]);
                    } else if (recordtoworkKeywords.some(keyword => textMessage.includes(keyword))) {

                        await line.replyWithStateless(event.replyToken, [{
                            "type": "text",
                            "text": "üëã ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö\nüìä‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏™‡πÅ‡∏Å‡∏ô‡∏•‡∏≤‡∏¢‡∏ô‡∏¥‡πâ‡∏ß‡∏°‡∏∑‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤-‡∏≠‡∏≠‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á\nüïí‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡πÅ‡∏•‡∏∞‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á"
                          }, {
                            "type": "text",
                            "text": "‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ï‡πà‡∏≠?",
                            "quickReply": {
                                "items": [
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å",
                                            "text": "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å"
                                        }
                                    },
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß",
                                            "text": "‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß"
                                        }
                                    },
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö",
                                            "text": "‡∏≠‡∏∑‡πà‡∏ô‡πÜ"
                                        }
                                    },
                                ]
                            }
                        }
                        ]);
                    } else if (testworkKeywords.some(keyword => textMessage.includes(keyword))) {

                        await line.replyWithStateless(event.replyToken, [{
                            "type": "text",
                            "text": "‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏•‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏á‡∏≤‡∏ô\n‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏•‡∏≤‡∏´‡∏¢‡∏∏‡∏î ‡πÄ‡∏ß‡πâ‡∏ô‡πÅ‡∏ï‡πà‡πÉ‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÜ üõë ‡πÅ‡∏•‡∏∞‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏Ø ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á‡πÉ‡∏´‡πâ üíº\n\nüìâ ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏à‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏á‡∏≤‡∏ô\n‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏Ø ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡πâ‡∏≤‡∏á‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ üö´ ‡πÉ‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏á‡∏≤‡∏ô 119 ‡∏ß‡∏±‡∏ô ‡∏´‡∏≤‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏≠‡πÉ‡∏à\n\nüíä ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏á‡∏≤‡∏ô\n‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏á‡∏≤‡∏ô üè• ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ô‡∏≠‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô üîÑ"
                          }, {
                            "type": "text",
                            "text": "‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ï‡πà‡∏≠?",
                            "quickReply": {
                                "items": [
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å",
                                            "text": "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å"
                                        }
                                    },
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß",
                                            "text": "‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß"
                                        }
                                    },
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö",
                                            "text": "‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏≠‡∏∑‡πà‡∏ô‡πÜ"
                                        }
                                    },
                                ]
                            }
                        }
                        ]);
                    } else if (bonustoworkKeywords.some(keyword => textMessage.includes(keyword))) {

                        await line.replyWithStateless(event.replyToken, [{
                            "type": "text",
                            "text": "üí∞ ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ\n‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏î‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ‡∏à‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡∏•‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:\n\n‡∏Ç‡∏≤‡∏î‡∏á‡∏≤‡∏ô ‚ùå ‡∏´‡∏±‡∏Å 3% ‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô\n‡∏•‡∏≤‡∏Å‡∏¥‡∏à üìã ‡∏´‡∏±‡∏Å 2% ‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô\n‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢ ü§í ‡∏´‡∏±‡∏Å 1% ‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡πÅ‡∏û‡∏ó‡∏¢‡πå ‡∏´‡∏±‡∏Å 0.5%)\n‡∏•‡∏≤‡∏Ñ‡∏•‡∏≠‡∏î üë∂ ‡∏´‡∏±‡∏Å 0.5% ‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô\n‡πÄ‡∏à‡πá‡∏ö‡∏õ‡πà‡∏ß‡∏¢‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏±‡∏Å‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• üè• ‡∏´‡∏±‡∏Å 0.5% ‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô\n‡∏°‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏™‡∏≤‡∏¢ ‚è∞ ‡∏´‡∏±‡∏Å 1% ‡∏ó‡∏∏‡∏Å 5 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å ‡πÅ‡∏•‡∏∞‡∏´‡∏±‡∏Å 0.25% ‡∏ï‡πà‡∏≠‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡πÉ‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏õ\n\nüèÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ‡∏Ñ‡∏ß‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô‡∏ï‡∏£‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô!"
                          }, {
                            "type": "text",
                            "text": "‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ï‡πà‡∏≠?",
                            "quickReply": {
                                "items": [
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å",
                                            "text": "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å"
                                        }
                                    },
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß",
                                            "text": "‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß"
                                        }
                                    },
                                    {
                                        "type": "action",
                                        "imageUrl": "",
                                        "action": {
                                            "type": "message",
                                            "label": "‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö",
                                            "text": "‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏≠‡∏∑‡πà‡∏ô‡πÜ"
                                        }
                                    },
                                ]
                            }
                        }
                        ]);
                    } else {

                        googlesheets_addleave.forwardGoogleSheets2(request),
                        googlesheets.forwardGoogleSheets(request),
                        gemini.forwardGemini(request)
                        //dialogflow.forwardDialogflow(request) // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

                    }
                    
                    
                } else {
                
                   
                    
                    
                    /*
                    # Handle Other Message Type
                    - Image : https://developers.line.biz/en/reference/messaging-api/#image-message
                    - Video : https://developers.line.biz/en/reference/messaging-api/#video-message
                    - Audio : https://developers.line.biz/en/reference/messaging-api/#audio-message
                    - Location : https://developers.line.biz/en/reference/messaging-api/#location-message
                    - Sticker : https://developers.line.biz/en/reference/messaging-api/#sticker-message
                    */

                    /*
                        https://medium.com/linedevth/111ea6c17ada
                    */
                    let msg = JSON.stringify(event)

                    if (event.source.type === "group") {

                        const validateEventType = ['image', 'audio', 'video', 'file']
                        if (validateEventType.includes(event.message.type)) {
                            const resGetContent = await line.getContent(event.message, event.message.id)
                            console.log("binary ", binary.fileName);
                            // fileName = resGetContent.fileName
                            // todo save binary to firestore
                            binary = resGetContent.binary

                            const publicUrl = await firebase.saveImageToStorage(event.source.groupId, resGetContent.fileName, resGetContent.binary)
                            await firebase.insertImageGroup(event.source.groupId, event.message.id, publicUrl)
                            msg = publicUrl
                        }
                    }

                    await line.replyWithLongLived(event.replyToken, [{
                        "type": "text",
                        "text": msg,
                    }])
                } break;
            case "unsend":
                /*
                    unsend
                    https://developers.line.biz/en/reference/messaging-api/#unsend-event
                */
                profile = await line.getProfile(event.source.userId)
                console.log(`‡∏û‡∏ö ${profile.displayName} unsend`);
                break;
            case "join":
                /*
                    join
                    https://developers.line.biz/en/reference/messaging-api/#join-event
                */

                await line.replyWithLongLived(event.replyToken, [{
                    "type": "text",
                    "text": `‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å`,
                    "quickReply": {
                        "items": [{
                            "type": "action",

                            "action": {
                                "type": "message",
                                "label": "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ",
                                "text": "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ"
                            }
                        }, {
                            "type": "action",

                            "action": {
                                "type": "clipboard",
                                "label": "‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏á‡∏Ñ‡∏≥",
                                "clipboardText": "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ"
                            }
                        }]
                    }
                }])
                break;
            case "leave":
                /*
                    leave
                    https://developers.line.biz/en/reference/messaging-api/#leave-event
                */
                console.log(JSON.stringify(event));
                break;
            case "memberJoined":
                /*
                    memberJoined
                    https://developers.line.biz/en/reference/messaging-api/#member-joined-event
                */
                console.log(JSON.stringify(event));
                for (let member of event.joined.members) {
                    if (member.type === "user") {
                        console.log(JSON.stringify(event));
                        await line.replyWithLongLived(event.replyToken, [{
                            "type": "text",
                            "text": JSON.stringify(event),
                            "quickReply": {
                                "items": [{
                                    "type": "action",
                                    "imageUrl": "https://bucket.ex10.tech/images/9f2a63dc-d84e-11ee-97d4-0242ac12000b/originalContentUrl.png",
                                    "action": {
                                        "type": "message",
                                        "label": "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ",
                                        "text": "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ"
                                    }
                                }]
                            }
                        }])
                    }
                }
                break;
            case "memberLeft":
                /*
                    memberLeft
                    https://developers.line.biz/en/reference/messaging-api/#member-left-event
                */
                console.log(JSON.stringify(event));
                break;
            case "postback":
                /*
                    postback
                    https://developers.line.biz/en/reference/messaging-api/#postback-event
                */
                console.log(JSON.parse(event.postback.data));
                await line.replyWithLongLived(event.replyToken, [{
                    "type": "text",
                    "text": JSON.stringify(event.postback.data),
                }])
                break;

            default:
                return response.end();
        }

    }

    return response.end();

});

exports.dialogflow = onRequest(async (request, response) => {

    /*
        receive dialogflow
        bonus
    */
    const object = request.body
    const replyToken = object.originalDetectIntentRequest.payload.data.replyToken
    await line.replyWithLongLived(replyToken, [{
        "type": "text",
        "text": "‡∏Å‡∏¥‡∏ô‡πÑ‡∏£‡∏î‡∏µ‡∏à‡πâ‡∏∞",
    }])
    return response.end();

});
